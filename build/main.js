var pe,_,ot,_e,$,et,rt,Re,it,De,Fe,He,st,ee={},at=[],Yt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Me=Array.isArray;function R(t,e){for(var n in e)t[n]=e[n];return t}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function en(t,e,n){var o,r,i,s={};for(i in e)i=="key"?o=e[i]:i=="ref"?r=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?pe.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return fe(t,s,o,r,null)}function fe(t,e,n,o,r){var i={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++ot,__i:-1,__u:0};return r==null&&_.vnode!=null&&_.vnode(i),i}function F(t){return t.children}function I(t,e){this.props=t,this.context=e}function W(t,e){if(e==null)return t.__?W(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?W(t):null}function lt(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return lt(t)}}function Ne(t){(!t.__d&&(t.__d=!0)&&$.push(t)&&!de.__r++||et!==_.debounceRendering)&&((et=_.debounceRendering)||rt)(de)}function de(){var t,e,n,o,r,i,s,l;for($.sort(Re);t=$.shift();)t.__d&&(e=$.length,o=void 0,i=(r=(n=t).__v).__e,s=[],l=[],n.__P&&((o=R({},r)).__v=r.__v+1,_.vnode&&_.vnode(o),Oe(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[i]:null,s,i??W(r),!!(32&r.__u),l),o.__v=r.__v,o.__.__k[o.__i]=o,ft(s,o,l),o.__e!=i&&lt(o)),$.length>e&&$.sort(Re));de.__r=0}function ut(t,e,n,o,r,i,s,l,c,u,h){var a,y,p,S,P,w,v=o&&o.__k||at,g=e.length;for(c=tn(n,e,v,c,g),a=0;a<g;a++)(p=n.__k[a])!=null&&(y=p.__i===-1?ee:v[p.__i]||ee,p.__i=a,w=Oe(t,p,y,r,i,s,l,c,u,h),S=p.__e,p.ref&&y.ref!=p.ref&&(y.ref&&Ue(y.ref,null,p),h.push(p.ref,p.__c||S,p)),P==null&&S!=null&&(P=S),4&p.__u||y.__k===p.__k?c=ct(p,c,t):typeof p.type=="function"&&w!==void 0?c=w:S&&(c=S.nextSibling),p.__u&=-7);return n.__e=P,c}function tn(t,e,n,o,r){var i,s,l,c,u,h=n.length,a=h,y=0;for(t.__k=new Array(r),i=0;i<r;i++)(s=e[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=i+y,(s=t.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?fe(null,s,null,null,null):Me(s)?fe(F,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?fe(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,l=null,(u=s.__i=nn(s,n,c,a))!==-1&&(a--,(l=n[u])&&(l.__u|=2)),l==null||l.__v===null?(u==-1&&y--,typeof s.type!="function"&&(s.__u|=4)):u!=c&&(u==c-1?y--:u==c+1?y++:(u>c?y--:y++,s.__u|=4))):t.__k[i]=null;if(a)for(i=0;i<h;i++)(l=n[i])!=null&&!(2&l.__u)&&(l.__e==o&&(o=W(l)),dt(l,l));return o}function ct(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=ct(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=W(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function nn(t,e,n,o){var r,i,s=t.key,l=t.type,c=e[n];if(c===null||c&&s==c.key&&l===c.type&&!(2&c.__u))return n;if(o>(c!=null&&!(2&c.__u)?1:0))for(r=n-1,i=n+1;r>=0||i<e.length;){if(r>=0){if((c=e[r])&&!(2&c.__u)&&s==c.key&&l===c.type)return r;r--}if(i<e.length){if((c=e[i])&&!(2&c.__u)&&s==c.key&&l===c.type)return i;i++}}return-1}function tt(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Yt.test(e)?n:n+"px"}function ce(t,e,n,o,r){var i;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||tt(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||tt(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(it,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?o?n.u=o.u:(n.u=De,t.addEventListener(e,i?He:Fe,i)):t.removeEventListener(e,i?He:Fe,i);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function nt(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=De++;else if(e.t<n.u)return;return n(_.event?_.event(e):e)}}}function Oe(t,e,n,o,r,i,s,l,c,u){var h,a,y,p,S,P,w,v,g,Z,L,le,X,Ye,ue,Be,Le,A=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[l=e.__e=n.__e]),(h=_.__b)&&h(e);e:if(typeof A=="function")try{if(v=e.props,g="prototype"in A&&A.prototype.render,Z=(h=A.contextType)&&o[h.__c],L=h?Z?Z.props.value:h.__:o,n.__c?w=(a=e.__c=n.__c).__=a.__E:(g?e.__c=a=new A(v,L):(e.__c=a=new I(v,L),a.constructor=A,a.render=rn),Z&&Z.sub(a),a.props=v,a.state||(a.state={}),a.context=L,a.__n=o,y=a.__d=!0,a.__h=[],a._sb=[]),g&&a.__s==null&&(a.__s=a.state),g&&A.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=R({},a.__s)),R(a.__s,A.getDerivedStateFromProps(v,a.__s))),p=a.props,S=a.state,a.__v=e,y)g&&A.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),g&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(g&&A.getDerivedStateFromProps==null&&v!==p&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(v,L),!a.__e&&(a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(v,a.__s,L)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(a.props=v,a.state=a.__s,a.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(Y){Y&&(Y.__=e)}),le=0;le<a._sb.length;le++)a.__h.push(a._sb[le]);a._sb=[],a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(v,a.__s,L),g&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(p,S,P)})}if(a.context=L,a.props=v,a.__P=t,a.__e=!1,X=_.__r,Ye=0,g){for(a.state=a.__s,a.__d=!1,X&&X(e),h=a.render(a.props,a.state,a.context),ue=0;ue<a._sb.length;ue++)a.__h.push(a._sb[ue]);a._sb=[]}else do a.__d=!1,X&&X(e),h=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++Ye<25);a.state=a.__s,a.getChildContext!=null&&(o=R(R({},o),a.getChildContext())),g&&!y&&a.getSnapshotBeforeUpdate!=null&&(P=a.getSnapshotBeforeUpdate(p,S)),l=ut(t,Me(Be=h!=null&&h.type===F&&h.key==null?h.props.children:h)?Be:[Be],e,n,o,r,i,s,l,c,u),a.base=e.__e,e.__u&=-161,a.__h.length&&s.push(a),w&&(a.__E=a.__=null)}catch(Y){if(e.__v=null,c||i!=null)if(Y.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,e.__e=l}else for(Le=i.length;Le--;)$e(i[Le]);else e.__e=n.__e,e.__k=n.__k;_.__e(Y,e,n)}else i==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=on(n.__e,e,n,o,r,i,s,c,u);return(h=_.diffed)&&h(e),128&e.__u?void 0:l}function ft(t,e,n){for(var o=0;o<n.length;o++)Ue(n[o],n[++o],n[++o]);_.__c&&_.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(i){i.call(r)})}catch(i){_.__e(i,r.__v)}})}function on(t,e,n,o,r,i,s,l,c){var u,h,a,y,p,S,P,w=n.props,v=e.props,g=e.type;if(g=="svg"?r="http://www.w3.org/2000/svg":g=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((p=i[u])&&"setAttribute"in p==!!g&&(g?p.localName==g:p.nodeType==3)){t=p,i[u]=null;break}}if(t==null){if(g==null)return document.createTextNode(v);t=document.createElementNS(r,g,v.is&&v),l&&(_.__m&&_.__m(e,i),l=!1),i=null}if(g===null)w===v||l&&t.data===v||(t.data=v);else{if(i=i&&pe.call(t.childNodes),w=n.props||ee,!l&&i!=null)for(w={},u=0;u<t.attributes.length;u++)w[(p=t.attributes[u]).name]=p.value;for(u in w)if(p=w[u],u!="children"){if(u=="dangerouslySetInnerHTML")a=p;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;ce(t,u,null,p,r)}}for(u in v)p=v[u],u=="children"?y=p:u=="dangerouslySetInnerHTML"?h=p:u=="value"?S=p:u=="checked"?P=p:l&&typeof p!="function"||w[u]===p||ce(t,u,p,w[u],r);if(h)l||a&&(h.__html===a.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(a&&(t.innerHTML=""),ut(t,Me(y)?y:[y],e,n,o,g=="foreignObject"?"http://www.w3.org/1999/xhtml":r,i,s,i?i[0]:n.__k&&W(n,0),l,c),i!=null)for(u=i.length;u--;)$e(i[u]);l||(u="value",g=="progress"&&S==null?t.removeAttribute("value"):S!==void 0&&(S!==t[u]||g=="progress"&&!S||g=="option"&&S!==w[u])&&ce(t,u,S,w[u],r),u="checked",P!==void 0&&P!==t[u]&&ce(t,u,P,w[u],r))}return t}function Ue(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){_.__e(r,n)}}function dt(t,e,n){var o,r;if(_.unmount&&_.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Ue(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){_.__e(i,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&dt(o[r],e,n||typeof t.type!="function");n||$e(t.__e),t.__c=t.__=t.__e=void 0}function rn(t,e,n){return this.constructor(t,n)}function pt(t,e,n){var o,r,i,s;e==document&&(e=document.documentElement),_.__&&_.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,i=[],s=[],Oe(e,t=(!o&&n||e).__k=en(F,null,[t]),r||ee,ee,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?pe.call(e.childNodes):null,i,!o&&n?n:r?r.__e:e.firstChild,o,s),ft(i,t,s)}function _t(t,e){var n={__c:e="__cC"+st++,__:t,Consumer:function(o,r){return o.children(r)},Provider:function(o){var r,i;return this.getChildContext||(r=new Set,(i={})[e]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.forEach(function(l){l.__e=!0,Ne(l)})},this.sub=function(s){r.add(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){r&&r.delete(s),l&&l.call(s)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}pe=at.slice,_={__e:function(t,e,n,o){for(var r,i,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(t)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),s=r.__d),s)return r.__E=r}catch(l){t=l}throw t}},ot=0,_e=function(t){return t!=null&&t.constructor==null},I.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof t=="function"&&(t=t(R({},n),this.props)),t&&R(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ne(this))},I.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ne(this))},I.prototype.render=F,$=[],rt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Re=function(t,e){return t.__v.__b-e.__v.__b},de.__r=0,it=/(PointerCapture)$|Capture$/i,De=0,Fe=nt(!1),He=nt(!0),st=0;var te,C,Ie,ht,We=0,St=[],T=_,mt=T.__b,vt=T.__r,gt=T.diffed,yt=T.__c,bt=T.unmount,Tt=T.__;function ze(t,e){T.__h&&T.__h(C,t,We||e),We=0;var n=C.__H||(C.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function me(t,e){var n=ze(te++,3);!T.__s&&Ct(n.__H,e)&&(n.__=t,n.i=e,C.__H.__h.push(n))}function j(t){return We=5,ne(function(){return{current:t}},[])}function ne(t,e){var n=ze(te++,7);return Ct(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function wt(t){var e=C.context[t.__c],n=ze(te++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(C)),e.props.value):t.__}function sn(){for(var t;t=St.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(he),t.__H.__h.forEach(je),t.__H.__h=[]}catch(e){t.__H.__h=[],T.__e(e,t.__v)}}T.__b=function(t){C=null,mt&&mt(t)},T.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Tt&&Tt(t,e)},T.__r=function(t){vt&&vt(t),te=0;var e=(C=t.__c).__H;e&&(Ie===C?(e.__h=[],C.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(he),e.__h.forEach(je),e.__h=[],te=0)),Ie=C},T.diffed=function(t){gt&&gt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(St.push(e)!==1&&ht===T.requestAnimationFrame||((ht=T.requestAnimationFrame)||an)(sn)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Ie=C=null},T.__c=function(t,e){e.some(function(n){try{n.__h.forEach(he),n.__h=n.__h.filter(function(o){return!o.__||je(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],T.__e(o,n.__v)}}),yt&&yt(t,e)},T.unmount=function(t){bt&&bt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{he(o)}catch(r){e=r}}),n.__H=void 0,e&&T.__e(e,n.__v))};var xt=typeof requestAnimationFrame=="function";function an(t){var e,n=function(){clearTimeout(o),xt&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);xt&&(e=requestAnimationFrame(n))}function he(t){var e=C,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),C=e}function je(t){var e=C;t.__c=t.__(),C=e}function Ct(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}var ln=0,Zn=Array.isArray;function f(t,e,n,o,r,i){e||(e={});var s,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?s=e[l]:c[l]=e[l];var u={type:t,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ln,__i:-1,__u:0,__source:r,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(l in s)c[l]===void 0&&(c[l]=s[l]);return _.vnode&&_.vnode(u),u}var Et=_t(null),kt=({stores:t,children:e})=>f(Et.Provider,{value:t,children:e});function ve(){let t=wt(Et);if(!t)throw new Error("useStores must be used within a StoresProvider");return t}function k(t){console.error(t)}var ge=class extends Event{details;constructor(e){super("togglecolortheme",{bubbles:!0}),this.details=e}};function At({uiStore:t}){return e=>{let n=e.details;if(!t||!n){k("the togglecolortheme action needs a uiStore and details.");return}un({uiStore:t})}}function un({uiStore:t}){try{t.toggleColorTheme()}catch(e){try{k(`the togglecolortheme action errored: ${JSON.stringify(e)}`)}catch{k("the togglecolortheme action errored and was not serializable")}}}var ye=class extends Event{details;constructor(e){super("toggletheme",{bubbles:!0}),this.details=e}};function Bt({uiStore:t}){return e=>{let n=e.details;if(!t||!n){k("the toggletheme action needs a uiStore and details.");return}fn({uiStore:t})}}function fn({uiStore:t}){try{t.toggleTheme()}catch(e){try{k(`the toggletheme action errored: ${JSON.stringify(e)}`)}catch{k("the toggletheme action errored and was not serializable")}}}var z=class extends Event{details;constructor(e){super("navigate",{bubbles:!0}),this.details=e}};function Lt({routerStore:t}){return e=>{let n=e.details;if(!t||!n){k("the navigate action needs a routerStore and details.");return}pn({routerStore:t,to:n.to})}}function pn({routerStore:t,to:e}){try{t.navigate(e)}catch(n){try{k(`the navigate action errored: ${JSON.stringify(n)}`)}catch{k("the navigate action errored and was not serializable")}}}function Ft(t,e){t.addEventListener("toggletheme",Bt({uiStore:e.uiStore})),t.addEventListener("togglecolortheme",At({uiStore:e.uiStore})),t.addEventListener("navigate",Lt({routerStore:e.routerStore}))}var _n=Symbol.for("preact-signals");function Te(){if(H>1){H--;return}let t,e=!1;for(;oe!==void 0;){let n=oe;for(oe=void 0,Ve++;n!==void 0;){let o=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Nt(n))try{n.c()}catch(r){e||(t=r,e=!0)}n=o}}if(Ve=0,H--,e)throw t}function qe(t){if(H>0)return t();H++;try{return t()}finally{Te()}}var m,oe;var H=0,Ve=0,be=0;function Ht(t){if(m===void 0)return;let e=t.n;if(e===void 0||e.t!==m)return e={i:0,S:t,p:m.s,n:void 0,t:m,e:void 0,x:void 0,r:e},m.s!==void 0&&(m.s.n=e),m.s=e,t.n=e,32&m.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=m.s,e.n=void 0,m.s.n=e,m.s=e),e}function x(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}x.prototype.brand=_n;x.prototype.h=function(){return!0};x.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};x.prototype.U=function(t){if(this.t!==void 0){let e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};x.prototype.subscribe=function(t){return B(()=>{let e=this.value,n=m;m=void 0;try{t(e)}finally{m=n}})};x.prototype.valueOf=function(){return this.value};x.prototype.toString=function(){return this.value+""};x.prototype.toJSON=function(){return this.value};x.prototype.peek=function(){let t=m;m=void 0;try{return this.value}finally{m=t}};Object.defineProperty(x.prototype,"value",{get(){let t=Ht(this);return t!==void 0&&(t.i=this.i),this.v},set(t){if(t!==this.v){if(Ve>100)throw new Error("Cycle detected");this.v=t,this.i++,be++,H++;try{for(let e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Te()}}}});function b(t){return new x(t)}function Nt(t){for(let e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Dt(t){for(let e=t.s;e!==void 0;e=e.n){let n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function Mt(t){let e,n=t.s;for(;n!==void 0;){let o=n.p;n.i===-1?(n.S.U(n),o!==void 0&&(o.n=n.n),n.n!==void 0&&(n.n.p=o)):e=n,n.S.n=n.r,n.r!==void 0&&(n.r=void 0),n=o}t.s=e}function V(t){x.call(this,void 0),this.x=t,this.s=void 0,this.g=be-1,this.f=4}(V.prototype=new x).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===be))return!0;if(this.g=be,this.f|=1,this.i>0&&!Nt(this))return this.f&=-2,!0;let t=m;try{Dt(this),m=this;let e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return m=t,Mt(this),this.f&=-2,!0};V.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(let e=this.s;e!==void 0;e=e.n)e.S.S(e)}x.prototype.S.call(this,t)};V.prototype.U=function(t){if(this.t!==void 0&&(x.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(let e=this.s;e!==void 0;e=e.n)e.S.U(e)}};V.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(V.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");let t=Ht(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function re(t){return new V(t)}function $t(t){let e=t.u;if(t.u=void 0,typeof e=="function"){H++;let n=m;m=void 0;try{e()}catch(o){throw t.f&=-2,t.f|=8,Je(t),o}finally{m=n,Te()}}}function Je(t){for(let e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,$t(t)}function hn(t){if(m!==this)throw new Error("Out-of-order effect");Mt(this),m=t,this.f&=-2,8&this.f&&Je(this),Te()}function ie(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}ie.prototype.c=function(){let t=this.S();try{if(8&this.f||this.x===void 0)return;let e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};ie.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,$t(this),Dt(this),H++;let t=m;return m=this,hn.bind(this,t)};ie.prototype.N=function(){2&this.f||(this.f|=2,this.o=oe,oe=this)};ie.prototype.d=function(){this.f|=8,1&this.f||Je(this)};function B(t){let e=new ie(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}function q(t,e){_[t]=e.bind(null,_[t]||(()=>{}))}var Se,Ge;function xe(t){Ge&&Ge(),Ge=t&&t.S()}function Ot({data:t}){let e=ae(t);e.value=t;let n=ne(()=>{let o=this,r=this.__v;for(;r=r.__;)if(r.__c){r.__c.__$f|=4;break}let i=re(function(){let l=e.value.value;return l===0?0:l===!0?"":l||""}),s=re(()=>{var l;return _e(i.value)||((l=this.base)==null?void 0:l.nodeType)!==3});return this.__$u.c=()=>{var l;!_e(n.peek())&&((l=this.base)==null?void 0:l.nodeType)===3?this.base.data=n.peek():(this.__$f|=1,this.setState({}))},B(function(){se||(se=this.N),this.N=Wt,s.value&&o.base&&(o.base.data=i.value)}),i},[]);return n.value}Ot.displayName="_st";Object.defineProperties(x.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Ot},props:{configurable:!0,get(){return{data:this}}},__b:{configurable:!0,value:1}});q("__b",(t,e)=>{if(typeof e.type=="string"){let n,o=e.props;for(let r in o){if(r==="children")continue;let i=o[r];i instanceof x&&(n||(e.__np=n={}),n[r]=i,o[r]=i.peek())}}t(e)});q("__r",(t,e)=>{xe();let n,o=e.__c;o&&(o.__$f&=-2,n=o.__$u,n===void 0&&(o.__$u=n=function(r){let i;return B(function(){i=this}),i.c=()=>{o.__$f|=1,o.setState({})},i}())),Se=o,xe(n),t(e)});q("__e",(t,e,n,o)=>{xe(),Se=void 0,t(e,n,o)});q("diffed",(t,e)=>{xe(),Se=void 0;let n;if(typeof e.type=="string"&&(n=e.__e)){let o=e.__np,r=e.props;if(o){let i=n.U;if(i)for(let s in i){let l=i[s];l!==void 0&&!(s in o)&&(l.d(),i[s]=void 0)}else i={},n.U=i;for(let s in o){let l=i[s],c=o[s];l===void 0?(l=mn(n,s,c,r),i[s]=l):l.o(c,r)}}}t(e)});function mn(t,e,n,o){let r=e in t&&t.ownerSVGElement===void 0,i=b(n);return{o:(s,l)=>{i.value=s,o=l},d:B(function(){se||(se=this.N),this.N=Wt;let s=i.value.value;o[e]!==s&&(o[e]=s,r?t[e]=s:s?t.setAttribute(e,s):t.removeAttribute(e))})}}q("unmount",(t,e)=>{if(typeof e.type=="string"){let n=e.__e;if(n){let o=n.U;if(o){n.U=void 0;for(let r in o){let i=o[r];i&&i.d()}}}}else{let n=e.__c;if(n){let o=n.__$u;o&&(n.__$u=void 0,o.d())}}t(e)});q("__h",(t,e,n,o)=>{(o<3||o===9)&&(e.__$f|=2),t(e,n,o)});I.prototype.shouldComponentUpdate=function(t,e){let n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(let o in e)return!0;for(let o in t)if(o!=="__source"&&t[o]!==this.props[o])return!0;for(let o in this.props)if(!(o in t))return!0;return!1};function ae(t){return ne(()=>b(t),[])}function Ut(t){let e=j(t);return e.current=t,Se.__$f|=4,ne(()=>re(()=>e.current()),[])}var se;var It=[];var vn=t=>{queueMicrotask(()=>{queueMicrotask(t)})};function gn(){qe(()=>{let t;for(;t=It.shift();)se.call(t)})}function Wt(){It.push(this)===1&&(_.requestAnimationFrame||vn)(gn)}var we=class{context;constructor(e){this.context=e}formatLog(e,n,o){return{timestamp:new Date().toISOString(),level:e,context:this.context,message:n,data:o}}log(e,n,o){let r=this.formatLog(e,n,o);switch(e){case"debug":break;case"info":console.info(r);break;case"warn":console.warn(r);break;case"error":console.error(r);break}}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}};var J=class{logger;constructor(e){this.logger=new we(e)}};var Ce=class extends J{theme;colorTheme;#e;constructor(){super("uiStore"),this.#e=globalThis.matchMedia("(prefers-color-scheme: dark)");let e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorTheme")||"grey";this.theme=b(e),this.colorTheme=b(n),this.#o(e),this.#r(n),this.#e.addEventListener("change",()=>{this.theme.value==="system"&&this.#n()}),this.logger.info("UIStore initialized",{initialTheme:e,initialColorTheme:n})}#t(){return this.#e.matches?"dark":"light"}#n(){let e=this.#t();document.documentElement.dataset.theme=e}#o(e){e==="system"?this.#n():document.documentElement.dataset.theme=e,localStorage.setItem("theme",e)}#r(e){document.documentElement.dataset.color=e,localStorage.setItem("colorTheme",e)}toggleTheme(){this.logger.debug("Toggling theme",{currentTheme:this.theme.value});let e=["light","dark","system"],o=(e.indexOf(this.theme.value)+1)%e.length,r=e[o];this.theme.value=r,this.#o(r)}toggleColorTheme(){this.logger.debug("Toggling color theme",{currentColorTheme:this.colorTheme.value});let e=["blue","red","green","orange","purple","grey"],o=(e.indexOf(this.colorTheme.value)+1)%e.length,r=e[o];this.colorTheme.value=r,this.#r(r)}getCurrentTheme(){return this.theme.value==="system"?this.#t():this.theme.value}};var Ee=class extends J{currentPath;constructor(){super("routerStore"),this.currentPath=b(globalThis.location.pathname),globalThis.addEventListener("popstate",()=>{this.currentPath.value=globalThis.location.pathname}),this.logger.info("RouterStore initialized",{initialPath:this.currentPath.value})}navigate(e){this.logger.debug("Navigating to",{path:e}),globalThis.history.pushState(null,"",e),this.currentPath.value=e}};function jt(){return{uiStore:new Ce,routerStore:new Ee}}var ke={page:"t",header:"o",footer:"r"};function zt(...t){return t.reduce((e,n)=>(typeof n=="string"&&(e+=" "+n),e),"")}var Vt={btn:"e"};function Tn(t,e){return{onClick:n=>xn(n,t),onTouchStart:n=>wn(n,t,e),onKeydown:n=>Sn(n,t)}}function xn(t,e){e()}function Sn(t,e){t.key==="Enter"&&e()}function wn(t,e,n,o=500){let{target:r}=t;if(!r)return;let i,s=l=>{clearTimeout(i),l.type==="touchend"&&"changedTouches"in l&&Array.isArray(l.changedTouches)&&l.changedTouches.length>0&&e(),r.removeEventListener("touchend",s)};i=setTimeout(()=>{n?n():e(),r.removeEventListener("touchend",s)},o),r.addEventListener("touchend",s)}var N=({ariaLabel:t,title:e,children:n,class:o,forwardRef:r,onPress:i,onLongPress:s})=>{let l=Tn(i,s);return f("button",{ref:r,class:zt(Vt.btn,o),...l,tabIndex:0,title:e||t,"aria-label":t,children:n})};function E(t){return j(t).current}function Ke(t){me(t,[])}function D(){let t=j(null),e=E(n=>{typeof t.current?.dispatchEvent=="function"?t.current.dispatchEvent(n):console.error("something went wrong when dispatching an event")});return[t,e]}var Cn=({theme:t})=>{switch(t.value){case"light":return"â˜€ï¸";case"dark":return"ðŸŒ™";case"system":return"ðŸ’»";default:return"ðŸ’»"}},Pe=({cb:t})=>{let{uiStore:e}=ve(),[n,o]=D(),r=E(()=>{o(new ye({eventType:"toggletheme",cb:t}))});return f(N,{forwardRef:n,onPress:r,title:`Current theme: ${e.theme.value}`,children:f(Cn,{theme:e.theme})})};var En=({colorTheme:t})=>{switch(t.value){case"red":return"ðŸ”´";case"blue":return"ðŸ”µ";case"green":return"ðŸŸ¢";case"orange":return"ðŸŸ ";case"purple":return"ðŸŸ£";case"grey":return"âšª";default:return"ðŸ”µ"}},Ae=({cb:t})=>{let{uiStore:e}=ve(),[n,o]=D(),r=E(()=>{o(new ge({eventType:"togglecolortheme",cb:t}))});return f(N,{forwardRef:n,onPress:r,title:`Current colortheme: ${e.colorTheme.value}`,children:f(En,{colorTheme:e.colorTheme})})};var qt=({cb:t})=>{let[e,n]=D(),o=E(()=>{n(new z({eventType:"navigate",to:"/code",cb:t}))});return f(N,{forwardRef:e,onPress:o,title:"Go to Code Editor",children:"Go to Code Editor"})};var Jt=({cb:t})=>{let[e,n]=D(),o=E(()=>{n(new z({eventType:"navigate",to:"/",cb:t}))});return f(N,{forwardRef:e,onPress:o,title:"Go to Home",children:"go home"})};async function Gt(t){try{let e=await kn(t);return{success:!0,results:Pn(e)}}catch(e){return{success:!1,error:`Benchmark Error: ${e instanceof Error&&e.message}`}}}async function kn(t,e=1e3){let n={iterations:e,totalTime:0,averageTime:0,fastest:1/0,slowest:0};await t();for(let o=0;o<e;o++){let r=performance.now();await t();let s=performance.now()-r;n.totalTime+=s,n.fastest=Math.min(n.fastest,s),n.slowest=Math.max(n.slowest,s)}return n.averageTime=n.totalTime/e,n}function Pn(t){return`Benchmark Results:
â€¢ Total Iterations: ${t.iterations}
â€¢ Total Time: ${t.totalTime.toFixed(2)}ms
â€¢ Average Time: ${t.averageTime.toFixed(2)}ms
â€¢ Fastest Run: ${t.fastest.toFixed(2)}ms
â€¢ Slowest Run: ${t.slowest.toFixed(2)}ms`}async function Kt(t){try{let e=await t();return{success:!0,results:An(e),passed:e.failed===0}}catch(e){return{success:!1,error:`Test Error: ${e instanceof Error&&e.message}`}}}function An(t){let e=`Test Results:
â€¢ Total Tests: ${t.total}
â€¢ Passed: ${t.passed}
â€¢ Failed: ${t.failed}

Detailed Results:`;return t.details.forEach(n=>{e+=`
â€¢ ${n.name}: ${n.status}`,n.error&&(e+=`
  Error: ${n.error}`)}),e}var K=b("initial"),O=b(),Ze=b(),Bn=b(),Ln=b(),Qt=b(),G=b("script.ts"),Rn=`const defaultArr = new Array(999999).fill(undefined).map(i => i)

function run(arr: number[] = defaultArr): number {
    let sum = 0
    for (let i = 0; i < arr.length; i++) {
            sum += arr[i]
    }
    return sum;
}`,Fn=`await test('run function should sum arr items', () => {
    const arr = [0, 1, 2]
    const result = run(arr);
    if (result !== 3) {
        throw new Error("Expected '3' but got '" + result + "'");
    }
});

await test('run function should return a number', () => {
    const arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
    const result = run(arr);
    if (typeof result !== 'number') {
        throw new Error("Expected number but got '" + typeof result + "'");
    }
});
`,M=b({"script.ts":Rn,"script.test.ts":Fn});B(()=>{if(K.value==="ready"&&Ze.value){let t=document.querySelector("#editor");t&&(O.value=Ze.value.create(t,{language:"typescript",theme:"vs-dark",minimap:{enabled:!1},automaticLayout:!0,lineNumbers:"off"}),K.value="complete")}});B(()=>{O.value?.setValue(M.value[G.value])});function Hn(){let t=ae(!1),e=ae(),n=ae(),o=Ut(()=>Object.keys(M.value));Ke(()=>{K.value==="initial"&&(K.value="loading",import("/build/loader@1.5-PSOPNHDG.js").then(s=>{Bn.value=s.default.init().cancel,Ln.value=s.default.config,Qt.value=s.default.init(),Qt.value?.then(l=>{Ze.value=l.editor,K.value="ready"})}).catch(s=>{K.value="initial"}))});let r=E(async()=>{if(U.value&&O.value){M.value[G.value]=O.value?.getValue()||"";try{let s=(await U.value.transform(M.value["script.ts"],{loader:"ts",target:"chrome130"})).code,l=new Function(s+`
return run;`)(),c=await Gt(l);n.value=c.success?c.results:c.error}catch(s){n.value=`Error: ${s instanceof Error&&s.message}`}t.value=!1}}),i=E(async()=>{if(O.value&&U.value){M.value[G.value]=O.value?.getValue()||"";try{let s=(await U.value.transform(M.value["script.ts"],{loader:"ts",target:"chrome130"})).code,l=(await U.value.transform(M.value["script.test.ts"],{loader:"ts",target:"chrome130"})).code,c=`return async function() {
    const results = { passed: 0, failed: 0, total: 0, details: [] }
    async function test(name, fn) {
        try {
            await fn()
	    results.passed++
	    results.details.push({ name, status: 'passed' })
        } catch (error) {
	    results.failed++
	    results.details.push({
		name,
		status: 'failed',
		error: error instanceof Error
			? error.message
			: '',
	    })
        }
        results.total++
    }

    ${s}

    ${l}
return results;
}
`,u=new Function(c)(),h=await Kt(u);e.value=h.success?h.results:h.error}catch(s){e.value=`Error: ${s instanceof Error&&s.message}`}t.value=!0}});return f(F,{children:[o.value.map(s=>f("button",{disabled:s===G.value,onClick:()=>{M.value[G.value]=O.value?.getValue()||"",G.value=s},children:s},s)),f("div",{id:"editor",style:"height: 45vh; overflow: hidden; border-radius: 5px; padding-top: 8px; margin-bottom: 16px; background: var(--vscode-editor-background, #1e1e1e);"}),f("button",{onClick:r,children:"run benchmark"}),f("button",{onClick:i,children:"run tests"}),f("div",{style:"height: 20vh; overflow: hidden; border-radius: 5px; padding: 16px; background: var(--vscode-editor-background, #1e1e1e);color: white;",children:t.value?f(Nn,{children:e.value?.split(`
`).map(s=>f("div",{children:s}))}):f(Dn,{children:n.value?.split(`
`).map(s=>f("div",{children:s}))})})]})}var U=b(),Qe=b("initial"),Nn=({children:t})=>f("div",{children:t}),Dn=({children:t})=>f("div",{children:t}),Zt=()=>(Ke(()=>{U.value===void 0&&import("/build/browser.min-CE7LC2B5.js").then(t=>{U.value=t,Qe.value==="initial"&&(Qe.value="loading",t.initialize({wasmURL:"https://unpkg.com/esbuild-wasm@0.24.2/esbuild.wasm"}).then(()=>{Qe.value="ready"}))})}),f("main",{class:ke.page,children:[f("header",{class:ke.header,children:[f(Jt,{}),f(Pe,{}),f(Ae,{})]}),f("div",{children:f(Hn,{})}),f("footer",{class:ke.footer,children:"Alex Jeffcott"})]}));var Q={page:"a",header:"i",content:"n",nav:"c",footer:"l"};var Xt=()=>f("main",{class:Q.page,children:[f("header",{class:Q.header,children:[f("div",{}),f(Pe,{}),f(Ae,{})]}),f("div",{class:Q.content,children:[f("h1",{children:"Welcome to Alex's Website"}),f("nav",{class:Q.nav,children:f(qt,{})})]}),f("footer",{class:Q.footer,children:"Alex Jeffcott"})]});var Xe=document.body;if(Xe instanceof HTMLElement){let t=jt();Ft(Xe,t),pt(f(kt,{stores:t,children:f(()=>{switch(t.routerStore.currentPath.value){case"/code":return f(Zt,{});default:return f(Xt,{})}},{})}),Xe)}
//# sourceMappingURL=/build/main.js.map
