var ae,p,Xe,le,M,Ge,Ye,Ee,et,Re,Pe,Le,tt,G={},nt=[],zt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Fe=Array.isArray;function R(t,e){for(var n in e)t[n]=e[n];return t}function He(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Vt(t,e,n){var o,r,i,s={};for(i in e)i=="key"?o=e[i]:i=="ref"?r=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?ae.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return se(t,s,o,r,null)}function se(t,e,n,o,r){var i={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++Xe,__i:-1,__u:0};return r==null&&p.vnode!=null&&p.vnode(i),i}function F(t){return t.children}function D(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function ot(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ot(t)}}function Ae(t){(!t.__d&&(t.__d=!0)&&M.push(t)&&!ue.__r++||Ge!==p.debounceRendering)&&((Ge=p.debounceRendering)||Ye)(ue)}function ue(){var t,e,n,o,r,i,s,a;for(M.sort(Ee);t=M.shift();)t.__d&&(e=M.length,o=void 0,i=(r=(n=t).__v).__e,s=[],a=[],n.__P&&((o=R({},r)).__v=r.__v+1,p.vnode&&p.vnode(o),Be(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[i]:null,s,i??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,st(s,o,a),o.__e!=i&&ot(o)),M.length>e&&M.sort(Ee));ue.__r=0}function rt(t,e,n,o,r,i,s,a,c,l,h){var u,y,f,S,C,w,v=o&&o.__k||nt,g=e.length;for(c=qt(n,e,v,c,g),u=0;u<g;u++)(f=n.__k[u])!=null&&(y=f.__i===-1?G:v[f.__i]||G,f.__i=u,w=Be(t,f,y,r,i,s,a,c,l,h),S=f.__e,f.ref&&y.ref!=f.ref&&(y.ref&&$e(y.ref,null,f),h.push(f.ref,f.__c||S,f)),C==null&&S!=null&&(C=S),4&f.__u||y.__k===f.__k?c=it(f,c,t):typeof f.type=="function"&&w!==void 0?c=w:S&&(c=S.nextSibling),f.__u&=-7);return n.__e=C,c}function qt(t,e,n,o,r){var i,s,a,c,l,h=n.length,u=h,y=0;for(t.__k=new Array(r),i=0;i<r;i++)(s=e[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=i+y,(s=t.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?se(null,s,null,null,null):Fe(s)?se(F,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?se(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,a=null,(l=s.__i=Jt(s,n,c,u))!==-1&&(u--,(a=n[l])&&(a.__u|=2)),a==null||a.__v===null?(l==-1&&y--,typeof s.type!="function"&&(s.__u|=4)):l!=c&&(l==c-1?y--:l==c+1?y++:(l>c?y--:y++,s.__u|=4))):t.__k[i]=null;if(u)for(i=0;i<h;i++)(a=n[i])!=null&&!(2&a.__u)&&(a.__e==o&&(o=N(a)),ut(a,a));return o}function it(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=it(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Jt(t,e,n,o){var r,i,s=t.key,a=t.type,c=e[n];if(c===null||c&&s==c.key&&a===c.type&&!(2&c.__u))return n;if(o>(c!=null&&!(2&c.__u)?1:0))for(r=n-1,i=n+1;r>=0||i<e.length;){if(r>=0){if((c=e[r])&&!(2&c.__u)&&s==c.key&&a===c.type)return r;r--}if(i<e.length){if((c=e[i])&&!(2&c.__u)&&s==c.key&&a===c.type)return i;i++}}return-1}function Qe(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||zt.test(e)?n:n+"px"}function ie(t,e,n,o,r){var i;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||Qe(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||Qe(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(et,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?o?n.u=o.u:(n.u=Re,t.addEventListener(e,i?Le:Pe,i)):t.removeEventListener(e,i?Le:Pe,i);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Ze(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Re++;else if(e.t<n.u)return;return n(p.event?p.event(e):e)}}}function Be(t,e,n,o,r,i,s,a,c,l){var h,u,y,f,S,C,w,v,g,q,A,oe,J,Ke,re,ke,Ce,E=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=e.__e=n.__e]),(h=p.__b)&&h(e);e:if(typeof E=="function")try{if(v=e.props,g="prototype"in E&&E.prototype.render,q=(h=E.contextType)&&o[h.__c],A=h?q?q.props.value:h.__:o,n.__c?w=(u=e.__c=n.__c).__=u.__E:(g?e.__c=u=new E(v,A):(e.__c=u=new D(v,A),u.constructor=E,u.render=Gt),q&&q.sub(u),u.props=v,u.state||(u.state={}),u.context=A,u.__n=o,y=u.__d=!0,u.__h=[],u._sb=[]),g&&u.__s==null&&(u.__s=u.state),g&&E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=R({},u.__s)),R(u.__s,E.getDerivedStateFromProps(v,u.__s))),f=u.props,S=u.state,u.__v=e,y)g&&E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),g&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(g&&E.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,A),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,A)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(K){K&&(K.__=e)}),oe=0;oe<u._sb.length;oe++)u.__h.push(u._sb[oe]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,A),g&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,S,C)})}if(u.context=A,u.props=v,u.__P=t,u.__e=!1,J=p.__r,Ke=0,g){for(u.state=u.__s,u.__d=!1,J&&J(e),h=u.render(u.props,u.state,u.context),re=0;re<u._sb.length;re++)u.__h.push(u._sb[re]);u._sb=[]}else do u.__d=!1,J&&J(e),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++Ke<25);u.state=u.__s,u.getChildContext!=null&&(o=R(R({},o),u.getChildContext())),g&&!y&&u.getSnapshotBeforeUpdate!=null&&(C=u.getSnapshotBeforeUpdate(f,S)),a=rt(t,Fe(ke=h!=null&&h.type===F&&h.key==null?h.props.children:h)?ke:[ke],e,n,o,r,i,s,a,c,l),u.base=e.__e,e.__u&=-161,u.__h.length&&s.push(u),w&&(u.__E=u.__=null)}catch(K){if(e.__v=null,c||i!=null)if(K.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,e.__e=a}else for(Ce=i.length;Ce--;)He(i[Ce]);else e.__e=n.__e,e.__k=n.__k;p.__e(K,e,n)}else i==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=Kt(n.__e,e,n,o,r,i,s,c,l);return(h=p.diffed)&&h(e),128&e.__u?void 0:a}function st(t,e,n){for(var o=0;o<n.length;o++)$e(n[o],n[++o],n[++o]);p.__c&&p.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(i){i.call(r)})}catch(i){p.__e(i,r.__v)}})}function Kt(t,e,n,o,r,i,s,a,c){var l,h,u,y,f,S,C,w=n.props,v=e.props,g=e.type;if(g=="svg"?r="http://www.w3.org/2000/svg":g=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),i!=null){for(l=0;l<i.length;l++)if((f=i[l])&&"setAttribute"in f==!!g&&(g?f.localName==g:f.nodeType==3)){t=f,i[l]=null;break}}if(t==null){if(g==null)return document.createTextNode(v);t=document.createElementNS(r,g,v.is&&v),a&&(p.__m&&p.__m(e,i),a=!1),i=null}if(g===null)w===v||a&&t.data===v||(t.data=v);else{if(i=i&&ae.call(t.childNodes),w=n.props||G,!a&&i!=null)for(w={},l=0;l<t.attributes.length;l++)w[(f=t.attributes[l]).name]=f.value;for(l in w)if(f=w[l],l!="children"){if(l=="dangerouslySetInnerHTML")u=f;else if(!(l in v)){if(l=="value"&&"defaultValue"in v||l=="checked"&&"defaultChecked"in v)continue;ie(t,l,null,f,r)}}for(l in v)f=v[l],l=="children"?y=f:l=="dangerouslySetInnerHTML"?h=f:l=="value"?S=f:l=="checked"?C=f:a&&typeof f!="function"||w[l]===f||ie(t,l,f,w[l],r);if(h)a||u&&(h.__html===u.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(u&&(t.innerHTML=""),rt(t,Fe(y)?y:[y],e,n,o,g=="foreignObject"?"http://www.w3.org/1999/xhtml":r,i,s,i?i[0]:n.__k&&N(n,0),a,c),i!=null)for(l=i.length;l--;)He(i[l]);a||(l="value",g=="progress"&&S==null?t.removeAttribute("value"):S!==void 0&&(S!==t[l]||g=="progress"&&!S||g=="option"&&S!==w[l])&&ie(t,l,S,w[l],r),l="checked",C!==void 0&&C!==t[l]&&ie(t,l,C,w[l],r))}return t}function $e(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){p.__e(r,n)}}function ut(t,e,n){var o,r;if(p.unmount&&p.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||$e(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){p.__e(i,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&ut(o[r],e,n||typeof t.type!="function");n||He(t.__e),t.__c=t.__=t.__e=void 0}function Gt(t,e,n){return this.constructor(t,n)}function at(t,e,n){var o,r,i,s;e==document&&(e=document.documentElement),p.__&&p.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,i=[],s=[],Be(e,t=(!o&&n||e).__k=Vt(F,null,[t]),r||G,G,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?ae.call(e.childNodes):null,i,!o&&n?n:r?r.__e:e.firstChild,o,s),st(i,t,s)}function lt(t,e){var n={__c:e="__cC"+tt++,__:t,Consumer:function(o,r){return o.children(r)},Provider:function(o){var r,i;return this.getChildContext||(r=new Set,(i={})[e]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.forEach(function(a){a.__e=!0,Ae(a)})},this.sub=function(s){r.add(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r&&r.delete(s),a&&a.call(s)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}ae=nt.slice,p={__e:function(t,e,n,o){for(var r,i,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(t)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),s=r.__d),s)return r.__E=r}catch(a){t=a}throw t}},Xe=0,le=function(t){return t!=null&&t.constructor==null},D.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof t=="function"&&(t=t(R({},n),this.props)),t&&R(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ae(this))},D.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ae(this))},D.prototype.render=F,M=[],Ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ee=function(t,e){return t.__v.__b-e.__v.__b},ue.__r=0,et=/(PointerCapture)$|Capture$/i,Re=0,Pe=Ze(!1),Le=Ze(!0),tt=0;var Q,k,Me,ct,Oe=0,gt=[],b=p,ft=b.__b,_t=b.__r,dt=b.diffed,pt=b.__c,ht=b.unmount,mt=b.__;function De(t,e){b.__h&&b.__h(k,t,Oe||e),Oe=0;var n=k.__H||(k.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function fe(t,e){var n=De(Q++,3);!b.__s&&bt(n.__H,e)&&(n.__=t,n.i=e,k.__H.__h.push(n))}function I(t){return Oe=5,Z(function(){return{current:t}},[])}function Z(t,e){var n=De(Q++,7);return bt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function yt(t){var e=k.context[t.__c],n=De(Q++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(k)),e.props.value):t.__}function Qt(){for(var t;t=gt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ce),t.__H.__h.forEach(Ue),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){k=null,ft&&ft(t)},b.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),mt&&mt(t,e)},b.__r=function(t){_t&&_t(t),Q=0;var e=(k=t.__c).__H;e&&(Me===k?(e.__h=[],k.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(ce),e.__h.forEach(Ue),e.__h=[],Q=0)),Me=k},b.diffed=function(t){dt&&dt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(gt.push(e)!==1&&ct===b.requestAnimationFrame||((ct=b.requestAnimationFrame)||Zt)(Qt)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Me=k=null},b.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ce),n.__h=n.__h.filter(function(o){return!o.__||Ue(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],b.__e(o,n.__v)}}),pt&&pt(t,e)},b.unmount=function(t){ht&&ht(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{ce(o)}catch(r){e=r}}),n.__H=void 0,e&&b.__e(e,n.__v))};var vt=typeof requestAnimationFrame=="function";function Zt(t){var e,n=function(){clearTimeout(o),vt&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);vt&&(e=requestAnimationFrame(n))}function ce(t){var e=k,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),k=e}function Ue(t){var e=k;t.__c=t.__(),k=e}function bt(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}var Xt=0,In=Array.isArray;function d(t,e,n,o,r,i){e||(e={});var s,a,c=e;if("ref"in c)for(a in c={},e)a=="ref"?s=e[a]:c[a]=e[a];var l={type:t,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Xt,__i:-1,__u:0,__source:r,__self:i};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)c[a]===void 0&&(c[a]=s[a]);return p.vnode&&p.vnode(l),l}var Tt=lt(null),xt=({stores:t,children:e})=>d(Tt.Provider,{value:t,children:e});function _e(){let t=yt(Tt);if(!t)throw new Error("useStores must be used within a StoresProvider");return t}function H(t){console.error(t)}var de=class extends Event{details;constructor(e){super("togglecolortheme",{bubbles:!0}),this.details=e}};function St({uiStore:t}){return e=>{let n=e.details;if(!t||!n){H("the togglecolortheme action needs a uiStore and details.");return}en({uiStore:t})}}function en({uiStore:t}){try{t.toggleColorTheme()}catch(e){try{H(`the togglecolortheme action errored: ${JSON.stringify(e)}`)}catch{H("the togglecolortheme action errored and was not serializable")}}}var pe=class extends Event{details;constructor(e){super("toggletheme",{bubbles:!0}),this.details=e}};function wt({uiStore:t}){return e=>{let n=e.details;if(!t||!n){H("the toggletheme action needs a uiStore and details.");return}nn({uiStore:t})}}function nn({uiStore:t}){try{t.toggleTheme()}catch(e){try{H(`the toggletheme action errored: ${JSON.stringify(e)}`)}catch{H("the toggletheme action errored and was not serializable")}}}function kt(t,e){t.addEventListener("toggletheme",wt({uiStore:e.uiStore})),t.addEventListener("togglecolortheme",St({uiStore:e.uiStore}))}var rn=Symbol.for("preact-signals");function me(){if(B>1){B--;return}let t,e=!1;for(;X!==void 0;){let n=X;for(X=void 0,Ne++;n!==void 0;){let o=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Et(n))try{n.c()}catch(r){e||(t=r,e=!0)}n=o}}if(Ne=0,B--,e)throw t}function Ie(t){if(B>0)return t();B++;try{return t()}finally{me()}}var m,X;var B=0,Ne=0,he=0;function Ct(t){if(m===void 0)return;let e=t.n;if(e===void 0||e.t!==m)return e={i:0,S:t,p:m.s,n:void 0,t:m,e:void 0,x:void 0,r:e},m.s!==void 0&&(m.s.n=e),m.s=e,t.n=e,32&m.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=m.s,e.n=void 0,m.s.n=e,m.s=e),e}function T(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}T.prototype.brand=rn;T.prototype.h=function(){return!0};T.prototype.S=function(t){this.t!==t&&t.e===void 0&&(t.x=this.t,this.t!==void 0&&(this.t.e=t),this.t=t)};T.prototype.U=function(t){if(this.t!==void 0){let e=t.e,n=t.x;e!==void 0&&(e.x=n,t.e=void 0),n!==void 0&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}};T.prototype.subscribe=function(t){return L(()=>{let e=this.value,n=m;m=void 0;try{t(e)}finally{m=n}})};T.prototype.valueOf=function(){return this.value};T.prototype.toString=function(){return this.value+""};T.prototype.toJSON=function(){return this.value};T.prototype.peek=function(){let t=m;m=void 0;try{return this.value}finally{m=t}};Object.defineProperty(T.prototype,"value",{get(){let t=Ct(this);return t!==void 0&&(t.i=this.i),this.v},set(t){if(t!==this.v){if(Ne>100)throw new Error("Cycle detected");this.v=t,this.i++,he++,B++;try{for(let e=this.t;e!==void 0;e=e.x)e.t.N()}finally{me()}}}});function x(t){return new T(t)}function Et(t){for(let e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Pt(t){for(let e=t.s;e!==void 0;e=e.n){let n=e.S.n;if(n!==void 0&&(e.r=n),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function Lt(t){let e,n=t.s;for(;n!==void 0;){let o=n.p;n.i===-1?(n.S.U(n),o!==void 0&&(o.n=n.n),n.n!==void 0&&(n.n.p=o)):e=n,n.S.n=n.r,n.r!==void 0&&(n.r=void 0),n=o}t.s=e}function W(t){T.call(this,void 0),this.x=t,this.s=void 0,this.g=he-1,this.f=4}(W.prototype=new T).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===he))return!0;if(this.g=he,this.f|=1,this.i>0&&!Et(this))return this.f&=-2,!0;let t=m;try{Pt(this),m=this;let e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return m=t,Lt(this),this.f&=-2,!0};W.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(let e=this.s;e!==void 0;e=e.n)e.S.S(e)}T.prototype.S.call(this,t)};W.prototype.U=function(t){if(this.t!==void 0&&(T.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(let e=this.s;e!==void 0;e=e.n)e.S.U(e)}};W.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(W.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");let t=Ct(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Y(t){return new W(t)}function At(t){let e=t.u;if(t.u=void 0,typeof e=="function"){B++;let n=m;m=void 0;try{e()}catch(o){throw t.f&=-2,t.f|=8,We(t),o}finally{m=n,me()}}}function We(t){for(let e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,At(t)}function sn(t){if(m!==this)throw new Error("Out-of-order effect");Lt(this),m=t,this.f&=-2,8&this.f&&We(this),me()}function ee(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}ee.prototype.c=function(){let t=this.S();try{if(8&this.f||this.x===void 0)return;let e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};ee.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,At(this),Pt(this),B++;let t=m;return m=this,sn.bind(this,t)};ee.prototype.N=function(){2&this.f||(this.f|=2,this.o=X,X=this)};ee.prototype.d=function(){this.f|=8,1&this.f||We(this)};function L(t){let e=new ee(t);try{e.c()}catch(n){throw e.d(),n}return e.d.bind(e)}function j(t,e){p[t]=e.bind(null,p[t]||(()=>{}))}var ge,je;function ve(t){je&&je(),je=t&&t.S()}function Rt({data:t}){let e=ne(t);e.value=t;let n=Z(()=>{let o=this,r=this.__v;for(;r=r.__;)if(r.__c){r.__c.__$f|=4;break}let i=Y(function(){let a=e.value.value;return a===0?0:a===!0?"":a||""}),s=Y(()=>{var a;return le(i.value)||((a=this.base)==null?void 0:a.nodeType)!==3});return this.__$u.c=()=>{var a;!le(n.peek())&&((a=this.base)==null?void 0:a.nodeType)===3?this.base.data=n.peek():(this.__$f|=1,this.setState({}))},L(function(){te||(te=this.N),this.N=Bt,s.value&&o.base&&(o.base.data=i.value)}),i},[]);return n.value}Rt.displayName="_st";Object.defineProperties(T.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Rt},props:{configurable:!0,get(){return{data:this}}},__b:{configurable:!0,value:1}});j("__b",(t,e)=>{if(typeof e.type=="string"){let n,o=e.props;for(let r in o){if(r==="children")continue;let i=o[r];i instanceof T&&(n||(e.__np=n={}),n[r]=i,o[r]=i.peek())}}t(e)});j("__r",(t,e)=>{ve();let n,o=e.__c;o&&(o.__$f&=-2,n=o.__$u,n===void 0&&(o.__$u=n=function(r){let i;return L(function(){i=this}),i.c=()=>{o.__$f|=1,o.setState({})},i}())),ge=o,ve(n),t(e)});j("__e",(t,e,n,o)=>{ve(),ge=void 0,t(e,n,o)});j("diffed",(t,e)=>{ve(),ge=void 0;let n;if(typeof e.type=="string"&&(n=e.__e)){let o=e.__np,r=e.props;if(o){let i=n.U;if(i)for(let s in i){let a=i[s];a!==void 0&&!(s in o)&&(a.d(),i[s]=void 0)}else i={},n.U=i;for(let s in o){let a=i[s],c=o[s];a===void 0?(a=un(n,s,c,r),i[s]=a):a.o(c,r)}}}t(e)});function un(t,e,n,o){let r=e in t&&t.ownerSVGElement===void 0,i=x(n);return{o:(s,a)=>{i.value=s,o=a},d:L(function(){te||(te=this.N),this.N=Bt;let s=i.value.value;o[e]!==s&&(o[e]=s,r?t[e]=s:s?t.setAttribute(e,s):t.removeAttribute(e))})}}j("unmount",(t,e)=>{if(typeof e.type=="string"){let n=e.__e;if(n){let o=n.U;if(o){n.U=void 0;for(let r in o){let i=o[r];i&&i.d()}}}}else{let n=e.__c;if(n){let o=n.__$u;o&&(n.__$u=void 0,o.d())}}t(e)});j("__h",(t,e,n,o)=>{(o<3||o===9)&&(e.__$f|=2),t(e,n,o)});D.prototype.shouldComponentUpdate=function(t,e){let n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(let o in e)return!0;for(let o in t)if(o!=="__source"&&t[o]!==this.props[o])return!0;for(let o in this.props)if(!(o in t))return!0;return!1};function ne(t){return Z(()=>x(t),[])}function Ft(t){let e=I(t);return e.current=t,ge.__$f|=4,Z(()=>Y(()=>e.current()),[])}var te;var Ht=[];var an=t=>{queueMicrotask(()=>{queueMicrotask(t)})};function ln(){Ie(()=>{let t;for(;t=Ht.shift();)te.call(t)})}function Bt(){Ht.push(this)===1&&(p.requestAnimationFrame||an)(ln)}var ye=class{context;constructor(e){this.context=e}formatLog(e,n,o){return{timestamp:new Date().toISOString(),level:e,context:this.context,message:n,data:o}}log(e,n,o){let r=this.formatLog(e,n,o);switch(e){case"debug":break;case"info":console.info(r);break;case"warn":console.warn(r);break;case"error":console.error(r);break}}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}};var be=class{logger;constructor(e){this.logger=new ye(e)}};var Te=class extends be{theme;colorTheme;#e;constructor(){super("uiStore"),this.#e=globalThis.matchMedia("(prefers-color-scheme: dark)");let e=localStorage.getItem("theme")||"system",n=localStorage.getItem("colorTheme")||"grey";this.theme=x(e),this.colorTheme=x(n),this.#o(e),this.#r(n),this.#e.addEventListener("change",()=>{this.theme.value==="system"&&this.#n()}),this.logger.info("UIStore initialized",{initialTheme:e,initialColorTheme:n})}#t(){return this.#e.matches?"dark":"light"}#n(){let e=this.#t();document.documentElement.dataset.theme=e}#o(e){e==="system"?this.#n():document.documentElement.dataset.theme=e,localStorage.setItem("theme",e)}#r(e){document.documentElement.dataset.color=e,localStorage.setItem("colorTheme",e)}toggleTheme(){this.logger.debug("Toggling theme",{currentTheme:this.theme.value});let e=["light","dark","system"],o=(e.indexOf(this.theme.value)+1)%e.length,r=e[o];this.theme.value=r,this.#o(r)}toggleColorTheme(){this.logger.debug("Toggling color theme",{currentColorTheme:this.colorTheme.value});let e=["blue","red","green","orange","purple","grey"],o=(e.indexOf(this.colorTheme.value)+1)%e.length,r=e[o];this.colorTheme.value=r,this.#r(r)}getCurrentTheme(){return this.theme.value==="system"?this.#t():this.theme.value}};function $t(){return{uiStore:new Te}}var xe={page:"o",header:"t",footer:"r"};function Mt(...t){return t.reduce((e,n)=>(typeof n=="string"&&(e+=" "+n),e),"")}var Ot={btn:"e"};function _n(t,e){return{onClick:n=>dn(n,t),onTouchStart:n=>hn(n,t,e),onKeydown:n=>pn(n,t)}}function dn(t,e){e()}function pn(t,e){t.key==="Enter"&&e()}function hn(t,e,n,o=500){let{target:r}=t;if(!r)return;let i,s=a=>{clearTimeout(i),a.type==="touchend"&&"changedTouches"in a&&Array.isArray(a.changedTouches)&&a.changedTouches.length>0&&e(),r.removeEventListener("touchend",s)};i=setTimeout(()=>{n?n():e(),r.removeEventListener("touchend",s)},o),r.addEventListener("touchend",s)}var Se=({ariaLabel:t,title:e,children:n,class:o,forwardRef:r,onPress:i,onLongPress:s})=>{let a=_n(i,s);return d("button",{ref:r,class:Mt(Ot.btn,o),...a,tabIndex:0,title:e||t,"aria-label":t,children:n})};function P(t){return I(t).current}function ze(t){fe(t,[])}function we(){let t=I(null),e=P(n=>{typeof t.current?.dispatchEvent=="function"?t.current.dispatchEvent(n):console.error("something went wrong when dispatching an event")});return[t,e]}var mn=({theme:t})=>{switch(t.value){case"light":return"☀️";case"dark":return"🌙";case"system":return"💻";default:return"💻"}},Ut=({cb:t})=>{let{uiStore:e}=_e(),[n,o]=we(),r=P(()=>{o(new pe({eventType:"toggletheme",cb:t}))});return d(Se,{forwardRef:n,onPress:r,title:`Current theme: ${e.theme.value}`,children:d(mn,{theme:e.theme})})};var vn=({colorTheme:t})=>{switch(t.value){case"red":return"🔴";case"blue":return"🔵";case"green":return"🟢";case"orange":return"🟠";case"purple":return"🟣";case"grey":return"⚪";default:return"🔵"}},Dt=({cb:t})=>{let{uiStore:e}=_e(),[n,o]=we(),r=P(()=>{o(new de({eventType:"togglecolortheme",cb:t}))});return d(Se,{forwardRef:n,onPress:r,title:`Current colortheme: ${e.colorTheme.value}`,children:d(vn,{colorTheme:e.colorTheme})})};async function Nt(t){try{let e=await gn(t);return{success:!0,results:yn(e)}}catch(e){return{success:!1,error:`Benchmark Error: ${e instanceof Error&&e.message}`}}}async function gn(t,e=1e3){let n={iterations:e,totalTime:0,averageTime:0,fastest:1/0,slowest:0};await t();for(let o=0;o<e;o++){let r=performance.now();await t();let s=performance.now()-r;n.totalTime+=s,n.fastest=Math.min(n.fastest,s),n.slowest=Math.max(n.slowest,s)}return n.averageTime=n.totalTime/e,n}function yn(t){return`Benchmark Results:
• Total Iterations: ${t.iterations}
• Total Time: ${t.totalTime.toFixed(2)}ms
• Average Time: ${t.averageTime.toFixed(2)}ms
• Fastest Run: ${t.fastest.toFixed(2)}ms
• Slowest Run: ${t.slowest.toFixed(2)}ms`}async function It(t){try{let e=await t();return{success:!0,results:bn(e),passed:e.failed===0}}catch(e){return{success:!1,error:`Test Error: ${e instanceof Error&&e.message}`}}}function bn(t){let e=`Test Results:
• Total Tests: ${t.total}
• Passed: ${t.passed}
• Failed: ${t.failed}

Detailed Results:`;return t.details.forEach(n=>{e+=`
• ${n.name}: ${n.status}`,n.error&&(e+=`
  Error: ${n.error}`)}),e}var V=x("initial"),O=x(),qe=x(),Tn=x(),xn=x(),Wt=x();var z=x("script.ts"),Sn=`const defaultArr = new Array(999999).fill(undefined).map(i => i)

function run(arr: number[] = defaultArr): number {
    let sum = 0
    for (let i = 0; i < arr.length; i++) {
            sum += arr[i]
    }
    return sum;
}`,wn=`await test('run function should sum arr items', () => {
    const arr = [0, 1, 2]
    const result = run(arr);
    if (result !== 3) {
        throw new Error("Expected '3' but got '" + result + "'");
    }
});

await test('run function should return a number', () => {
    const arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
    const result = run(arr);
    if (typeof result !== 'number') {
        throw new Error("Expected number but got '" + typeof result + "'");
    }
});
`,$=x({"script.ts":Sn,"script.test.ts":wn});L(()=>{if(V.value==="ready"&&qe.value){let t=document.querySelector("#editor");t&&(O.value=qe.value.create(t,{language:"typescript",theme:"vs-dark",minimap:{enabled:!1},automaticLayout:!0,lineNumbers:"off"}),V.value="complete")}});L(()=>{O.value?.setValue($.value[z.value])});function kn(){let t=ne(!1),e=ne(),n=ne(),o=Ft(()=>Object.keys($.value));ze(()=>{V.value==="initial"&&(V.value="loading",import("/build/loader@1.5-PSOPNHDG.js").then(s=>{Tn.value=s.default.init().cancel,xn.value=s.default.config,Wt.value=s.default.init(),Wt.value?.then(a=>{qe.value=a.editor,V.value="ready"})}).catch(s=>{V.value="initial"}))});let r=P(async()=>{if(U.value&&O.value){$.value[z.value]=O.value?.getValue()||"";try{let s=(await U.value.transform($.value["script.ts"],{loader:"ts",target:"chrome130"})).code,a=new Function(s+`
return run;`)(),c=await Nt(a);n.value=c.success?c.results:c.error}catch(s){n.value=`Error: ${s instanceof Error&&s.message}`}t.value=!1}}),i=P(async()=>{if(O.value&&U.value){$.value[z.value]=O.value?.getValue()||"";try{let s=(await U.value.transform($.value["script.ts"],{loader:"ts",target:"chrome130"})).code,a=(await U.value.transform($.value["script.test.ts"],{loader:"ts",target:"chrome130"})).code,c=`return async function() {
    const results = { passed: 0, failed: 0, total: 0, details: [] }
    async function test(name, fn) {
        try {
            await fn()
	    results.passed++
	    results.details.push({ name, status: 'passed' })
        } catch (error) {
	    results.failed++
	    results.details.push({
		name,
		status: 'failed',
		error: error instanceof Error
			? error.message
			: '',
	    })
        }
        results.total++
    }

    ${s}

    ${a}
return results;
}
`,l=new Function(c)(),h=await It(l);e.value=h.success?h.results:h.error}catch(s){e.value=`Error: ${s instanceof Error&&s.message}`}t.value=!0}});return d(F,{children:[o.value.map(s=>d("button",{disabled:s===z.value,onClick:()=>{$.value[z.value]=O.value?.getValue()||"",z.value=s},children:s},s)),d("div",{id:"editor",style:"height: 45vh; overflow: hidden; border-radius: 5px; padding-top: 8px; margin-bottom: 16px; background: var(--vscode-editor-background, #1e1e1e);"}),d("button",{onClick:r,children:"run benchmark"}),d("button",{onClick:i,children:"run tests"}),d("div",{style:"height: 20vh; overflow: hidden; border-radius: 5px; padding: 16px; background: var(--vscode-editor-background, #1e1e1e);color: white;",children:t.value?d(Cn,{children:e.value?.split(`
`).map(s=>d("div",{children:s}))}):d(En,{children:n.value?.split(`
`).map(s=>d("div",{children:s}))})})]})}var U=x(),Ve=x("initial"),Cn=({children:t})=>d("div",{children:t}),En=({children:t})=>d("div",{children:t}),jt=()=>(ze(()=>{U.value===void 0&&import("/build/browser.min-CE7LC2B5.js").then(t=>{U.value=t,Ve.value==="initial"&&(Ve.value="loading",t.initialize({wasmURL:"https://unpkg.com/esbuild-wasm@0.24.2/esbuild.wasm"}).then(()=>{Ve.value="ready"}))})}),d("main",{class:xe.page,children:[d("header",{class:xe.header,children:[d("a",{href:"/",children:"go home"}),d(Ut,{}),d(Dt,{})]}),d("div",{children:d(kn,{})}),d("footer",{class:xe.footer,children:"Alex Jeffcott"})]}));var Je=document.body;if(Je instanceof HTMLElement){let t=$t();kt(Je,t),at(d(xt,{stores:t,children:d(jt,{})}),Je)}
//# sourceMappingURL=/build/main.js.map
