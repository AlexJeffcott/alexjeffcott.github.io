<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perplexity API</title>
    <script type="importmap">
      {
        "imports": {
          "preact-stand-alone": "https://cdn.jsdelivr.net/npm/preact-htm-signals-standalone/dist/standalone.js"
        }
      }
    </script>
    <style>
      body {
        font-family: system-ui;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }
      textarea {
        width: 100%;
        height: 100px;
        margin: 10px 0;
      }
      button {
        padding: 10px 20px;
        background: #007bff;
        color: white;
        border: none;
        cursor: pointer;
      }
      button:hover {
        background: #0056b3;
      }
      .error {
        color: red;
        margin-top: 10px;
      }
      .result {
        margin-top: 20px;
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>
    <script type="module">
      import { html, render } from 'preact-stand-alone'
      function App(props) {
        const {
          withHeader,
          withFooter,
          withSideNav,
          numberOfSections,
          addOnClicks,
        } = props

        const sections = Array(numberOfSections).fill(undefined).map(
          (_, i) => {
            const sectionId = `section-${i + 1}`
            const title = `Section ${i + 1}`
            const subtitle = `Subtitle for ${title}`

            return html`
        <section id=${sectionId} class="article-section">
          <div>
              <button onClick=${addOnClicks ? () => console.log('clicked') : undefined}><div><div><div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M8.372 13h-2.81l-.596-1.6H2.293L1.697 13H0l2.885-7.75h1.488l2.32 6.231L10.063 3h1.967L16 13h-2.282l-.848-2.134H9.22zM3.63 7.81 4.47 10H2.79zM12.15 9l-1.105-2.73L9.92 9z" clip-rule="evenodd"></path></svg></div></div></div></button>

              <button onClick=${addOnClicks ? () => console.log('clicked') : undefined}><div><div><div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M8.372 13h-2.81l-.596-1.6H2.293L1.697 13H0l2.885-7.75h1.488l2.32 6.231L10.063 3h1.967L16 13h-2.282l-.848-2.134H9.22zM3.63 7.81 4.47 10H2.79zM12.15 9l-1.105-2.73L9.92 9z" clip-rule="evenodd"></path></svg></div></div></div></button>


              <button onClick=${addOnClicks ? () => console.log('clicked') : undefined}><div><div><div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M8.372 13h-2.81l-.596-1.6H2.293L1.697 13H0l2.885-7.75h1.488l2.32 6.231L10.063 3h1.967L16 13h-2.282l-.848-2.134H9.22zM3.63 7.81 4.47 10H2.79zM12.15 9l-1.105-2.73L9.92 9z" clip-rule="evenodd"></path></svg></div></div></div></button>
          </div>

          <div>
              <h2 onClick=${addOnClicks ? () => console.log('clicked') : undefined}>${title}</h2>
              <h3 onClick=${addOnClicks ? () => console.log('clicked') : undefined}>${subtitle}</h3>
          </div>

          <div>
            <p>Venmo plaid hoodie
              <strong onClick=${addOnClicks ? () => console.log('clicked') : undefined}><a><span>master</span> cleanse</a></strong> subway tile, tote bag cred. Franzen
              <strong onClick=${addOnClicks ? () => console.log('clicked') : undefined}><a><span>asymmetrical meh</span></a></strong>  messenger bag ramps tofu kitsch
              <strong onClick=${addOnClicks ? () => console.log('clicked') : undefined}><a><span>asymmetrical meh</span></a></strong> godard kombucha. Four
              <strong onClick=${addOnClicks ? () => console.log('clicked') : undefined}><a><span>asymmetrical meh</span></a></strong> loko bushwick VHS messenger bag narwhal 90's grailed copper mug ennui pop-up semiotics. Bespoke chicharrones synth whatever, franzen kogi squid literally gorpcore venmo bicycle rights blue bottle cupping
              <strong onClick=${addOnClicks ? () => console.log('clicked') : undefined}><a><span>asymmetrical meh</span></a></strong> listicle migas.</p>

            <p>Iceland try-hard 
              <strong onClick=${addOnClicks ? () => console.log('clicked') : undefined}>bespoke YOLO messenger bag</strong> , portland live-edge tote bag fam fit butcher before they sold out. Farm-to-table prism cronut wayfarers health goth yr umami vaporware succulents. Coloring book chambray enamel pin, etsy keffiyeh la croix microdosing jawn venmo YOLO lo-fi thundercats. Ennui pabst glossier williamsburg. Mustache 3 wolf moon
              <strong onClick=${addOnClicks ? () => console.log('clicked') : undefined}><a><span>asymmetrical meh</span></a></strong> asymmetrical subway tile pug, paleo vaporware iPhone artisan gentrify retro prism glossier raclette.
            </p>

            <ul>
                <li><span><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}>Patients </span><span><span>&lt; 35 years</span></span><span> of age who</span><span>:</span></span> <span><span><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><g stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 2a1 1 0 0 0-1 1v3.222L1.638 7.67c-.091.097-.236.17-.255.3a.2.2 0 0 0 0 .06c.02.13.164.203.255.3L3 9.778V13a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path stroke-linecap="square" stroke-linejoin="bevel" d="M7 6h4m-4 4h4"></path></g></svg></span></span></span>
                  <ul>
                  <li><span><span>Are </span><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}><span>overweight</span></span><span> or </span><a><span>obese</span></a> </span> <span>; </span><span><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}><span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><g stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 2a1 1 0 0 0-1 1v3.222L1.638 7.67c-.091.097-.236.17-.255.3a.2.2 0 0 0 0 .06c.02.13.164.203.255.3L3 9.778V13a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path stroke-linecap="square" stroke-linejoin="bevel" d="M7 6h4m-4 4h4"></path></g></svg></span></span></span> <span><span>AND have </span><span><span>â‰¥ 1</span></span><span > of the following </span><a><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}>risk factors</span></a><span>:</span></span>
                         <ul>
                             <li><span><span><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}>First-degree relative</span></span><span> with diabetes</span></span></li>
                             <li><span><span><a><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}>Polycystic ovary syndrome</span></a></span></span></li>
                             <li><span><a><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}>acanthosis nigricans</span></a></span></li>
                         </ul>
                     </li>
                     <li><span><a>gestational diabetes</a></span></li> 
                  </ul>
                </li>
                <li><span onClick=${addOnClicks ? () => console.log('clicked') : undefined}><a>statins</a>.</span></li>
            </ul>

          <p>Tumblr try-hard keytar chambray. Polaroid bespoke raw denim, fit dreamcatcher vibecession waistcoat vape etsy <strong onClick=${
              addOnClicks ? () => console.log('clicked') : undefined
            }><a><span>asymmetrical meh</span></a></strong> lomo man bun 8-bit tonx. Meditation hoodie <strong onClick=${
              addOnClicks ? () => console.log('clicked') : undefined
            }><a><span>asymmetrical meh</span></a></strong> tumblr 90's offal, unicorn vegan skateboard gluten-free. Migas sus raclette direct trade kombucha YOLO chambray <strong onClick=${
              addOnClicks ? () => console.log('clicked') : undefined
            }>single-origin coffee</strong> +1 3 wolf moon gluten-free shaman ascot stumptown affogato. Heirloom <strong onClick=${
              addOnClicks ? () => console.log('clicked') : undefined
            }><a><span>asymmetrical meh</span></a></strong> poke photo booth, ugh tote bag live-edge irony shoreditch. DIY organic lumbersexual lyft. Taxidermy sustainable irony cornhole <strong onClick=${
              addOnClicks ? () => console.log('clicked') : undefined
            }><a><span>asymmetrical meh</span></a></strong> shoreditch JOMO mixtape tbh XOXO four loko hella af kitsch jianbing.</p>
          <p>Dummy text? More like dummy <strong onClick=${
              addOnClicks ? () => console.log('clicked') : undefined
            }>thicc</strong> text, amirite?</p></div>
          <a href='#top'>back to top</a>
        </section>
      `
          },
        )

        // Generate header with navigation
        const header = withHeader
          ? html`
    <header>
      <h1>Article Title</h1>
      <nav>
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="#blog">Blog</a></li>
        </ul>
      </nav>
    </header>
  `
          : null

        // Generate side navigation
        const sideNav = withSideNav
          ? html`
    <aside>
      <nav>
        <h3>Table of Contents</h3>
        <ul>
          ${
            Array.from({ length: numberOfSections }, (_, i) => {
              const sectionNum = i + 1
              return html`<li><a href="#section-${sectionNum}">Section ${sectionNum}</a></li>`
            })
          }
        </ul>
      </nav>
    </aside>
  `
          : null

        // Generate footer
        const footer = withFooter
          ? html`
    <footer>
      <nav>
        <ul>
          <li><a href="#terms">Terms of Service</a></li>
          <li><a href="#privacy">Privacy Policy</a></li>
          <li><a href="#contact">Contact Us</a></li>
        </ul>
      </nav>
      <p>&copy; ${new Date().getFullYear()} Example Company</p>
    </footer>
  `
          : null

        return html`
<div class="app-container"><div>
      ${header}<div>
      <main class="main-content">
        ${sideNav}<div>
        <article>
          ${sections}
        </article>
    </div>
      </main>
    </div>
      ${footer}
      <style>
        .app-container {
          font-family: Arial, sans-serif;
          max-width: 1200px;
          margin: 0 auto;
        }
        header {
          background-color: #f5f5f5;
          padding: 1rem;
          margin-bottom: 1rem;
        }
        header nav ul {
          display: flex;
          list-style: none;
          padding: 0;
        }
        header nav ul li {
          margin-right: 1rem;
        }
        .main-content {
          display: flex;
        }
        aside {
          width: 200px;
          padding-right: 1rem;
        }
        aside ul {
          padding-left: 1rem;
        }
        article {
          flex: 1;
        }
        .article-section {
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 1px solid #eee;
        }
        footer {
          margin-top: 2rem;
          padding: 1rem;
          background-color: #f5f5f5;
        }
        footer ul {
          display: flex;
          list-style: none;
          padding: 0;
        }
        footer ul li {
          margin-right: 1rem;
        }
        .section-links {
          display: flex;
          flex-wrap: wrap;
          gap: 1rem;
          margin-top: 1rem;
        }
        a {
          color: #0066cc;
          text-decoration: none;
        }
        a:hover {
          text-decoration: underline;
        }
        strong, em {
          display: inline-block;
        }
        strong {
          color: #333;
          font-weight: bold;
        }
        em {
          font-style: italic;
          color: #555;
        }
      </style>
    </div>
    </div>
  `
      }

      render(
        html`<${App} withHeader=${true} withFooter=${true} withSideNav=${true} numberOfSections=${100} addOnClicks=${false}/>`,
        document.body,
      )
    </script>
    <!--<script type="module">-->
    <!--    import { html, render, signal } from 'preact-stand-alone';-->
    <!--    const list = Array(9999).fill(undefined).map((v, i) => i + 1)-->
    <!--    function App() {-->
    <!--      return html`<main>${list.map(l => {-->
    <!--        return html`<div><div><div><div><div><div><div><div><div onClick=${() => console.log(l)}><p>${l}</p></div></div></div></div></div></div></div></div></div>`-->
    <!--        })}</main>`;-->
    <!--    }-->
    <!---->
    <!--    render(html`<${App} />`, document.body);-->
    <!--</script>-->
  </body>
</html>
